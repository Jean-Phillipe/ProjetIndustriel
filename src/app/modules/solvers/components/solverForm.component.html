<app-card header="Ajouter un solveur">
	<div card-content>
		<form [formGroup]="solverForm" (ngSubmit)="onSubmit()" novalidate class="form-container" fxLayout="row" fxLayoutAlign="space-between center" fxLayoutWrap>
			<!-- Data fields -->
			<mat-form-field fxFlex="100" hintLabel="100 charatères max">
				<input matInput #name placeholder="Nom*" formControlName="name">
				<mat-error *ngIf="solverForm.get('name').invalid && solverForm.get('name').dirty">Nom invalide</mat-error>
				<mat-hint align="end">{{solverForm.get('name').value?.length || 0}}/100</mat-hint>
			</mat-form-field>
			<mat-form-field fxFlex="100" hintLabel="100 charatères max">
				<input matInput placeholder="Version" formControlName="version">
				<mat-error *ngIf="solverForm.get('version').invalid && solverForm.get('version').dirty">Version invalide</mat-error>
				<mat-hint align="end">{{solverForm.get('version').value?.length || 0}}/100</mat-hint>
			</mat-form-field>
			<mat-form-field fxFlex="100" hintLabel="200 charatères max">
				<input matInput placeholder="Chemin des sources" formControlName="sourcePath">
				<mat-error *ngIf="solverForm.get('sourcePath').invalid && solverForm.get('sourcePath').dirty">Chemin invalide</mat-error>
				<mat-hint align="end">{{solverForm.get('sourcePath').value?.length || 0}}/200</mat-hint>
			</mat-form-field>
			<mat-form-field fxFlex="100" hintLabel="200 charatères max">
				<input matInput placeholder="Chemin de l'éxécutable" formControlName="executablePath">
				<mat-error *ngIf="solverForm.get('executablePath').invalid && solverForm.get('executablePath').dirty">Chemin invalide</mat-error>
				<mat-hint align="end">{{solverForm.get('executablePath').value?.length || 0}}/200</mat-hint>
			</mat-form-field>

			<!-- File Upload -->
			<mat-accordion multi="true" fxFlex="100">
				<!-- Sources files drop zone -->
				<mat-expansion-panel>
					<mat-expansion-panel-header>
						<mat-panel-title>Fichiers source</mat-panel-title>
						<mat-panel-description>Ajouter une archive contenants les fichiers sources.</mat-panel-description>
					</mat-expansion-panel-header>
					<app-file-upload></app-file-upload>
				</mat-expansion-panel>
				<!-- Executable drop zone -->
				<mat-expansion-panel>
					<mat-expansion-panel-header>
						<mat-panel-title>Exécutable</mat-panel-title>
						<mat-panel-description>Ajouter un éxécutable.</mat-panel-description>
					</mat-expansion-panel-header>
					<app-file-upload></app-file-upload>
				</mat-expansion-panel>
			</mat-accordion>

			<span fxFlex="20"><button type="submit" mat-raised-button color="warn">Sauvegarder</button></span>
			<span fxFlex="80">* : Champ(s) obligatoire</span>
		</form>
	</div>
</app-card>
