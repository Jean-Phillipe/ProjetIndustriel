<button mat-raised-button color="primary" class="button-margin-bottom" (click)="back()"><mat-icon>arrow_back</mat-icon>Retour</button>
<app-card header="Ajouter/Modifier un solveur">
	<div card-content>
		<div class="loading-shade" *ngIf="isLoadingResults">
			<mat-spinner *ngIf="isLoadingResults"></mat-spinner>
		</div>
		<form [formGroup]="solverForm" (ngSubmit)="onSubmit()" novalidate class="form-container" fxLayout="row" fxLayoutAlign="space-between center" fxLayoutWrap>
			<!-- Data fields -->
			<mat-form-field fxFlex="100" hintLabel="100 charatères max">
				<input matInput #name placeholder="Nom*" formControlName="name">
				<mat-error *ngIf="solverForm.get('name').invalid && solverForm.get('name').dirty">Nom invalide</mat-error>
				<mat-hint align="end">{{solverForm.get('name').value?.length || 0}}/100</mat-hint>
			</mat-form-field>
			<mat-form-field fxFlex="100" hintLabel="100 charatères max">
				<input matInput placeholder="Version" formControlName="version">
				<mat-error *ngIf="solverForm.get('version').invalid && solverForm.get('version').dirty">Version invalide</mat-error>
				<mat-hint align="end">{{solverForm.get('version').value?.length || 0}}/100</mat-hint>
			</mat-form-field>
			<mat-form-field fxFlex="48">
				<input matInput [matDatepicker]="createdPicker" placeholder="Date d'ajout" formControlName="created">
				<mat-datepicker-toggle matSuffix [for]="createdPicker"></mat-datepicker-toggle>
				<mat-datepicker #createdPicker></mat-datepicker>
			</mat-form-field>
			<mat-form-field fxFlex="48">
				<input matInput [matDatepicker]="modifiedPicker" placeholder="Date de modification" formControlName="modified">
				<mat-datepicker-toggle matSuffix [for]="modifiedPicker"></mat-datepicker-toggle>
				<mat-datepicker #modifiedPicker></mat-datepicker>
			</mat-form-field>


			<!-- File Upload -->
			<mat-accordion multi="true" fxFlex="100">
				<!-- Sources files drop zone -->
				<mat-expansion-panel>
					<mat-expansion-panel-header>
						<mat-panel-title>Fichiers source</mat-panel-title>
						<mat-panel-description>Ajouter une archive contenants les fichiers sources.</mat-panel-description>
					</mat-expansion-panel-header>
					<app-file-upload nbFileMax=1 validationColumn=true #sourceInput></app-file-upload>
				</mat-expansion-panel>
				<!-- Executable drop zone -->
				<mat-expansion-panel>
					<mat-expansion-panel-header>
						<mat-panel-title>Exécutable</mat-panel-title>
						<mat-panel-description>Ajouter un éxécutable.</mat-panel-description>
					</mat-expansion-panel-header>
					<app-file-upload nbFileMax=1 validationColumn=true #execInput></app-file-upload>
				</mat-expansion-panel>
			</mat-accordion>

			<span fxFlex="20"><button type="submit" mat-raised-button color="warn">Sauvegarder</button></span>
			<span fxFlex="80">* : Champ(s) obligatoire</span>
		</form>
	</div>
</app-card>
