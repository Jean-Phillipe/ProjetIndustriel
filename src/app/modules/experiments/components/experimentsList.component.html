<app-card header="Experimentations">
	<button mat-raised-button card-action color="accent" (click)="refreshData()" matTooltip="Refresh">
		<mat-icon>refresh</mat-icon>
	</button>

	<div card-content>
		<div class="experiment-list-header">
			<mat-form-field>
				<input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
			</mat-form-field>
		</div>

		<div class="table-container">
			<div class="loading-shade" *ngIf="isLoadingResults">
				<mat-spinner *ngIf="isLoadingResults"></mat-spinner>
			</div>

			<mat-table [dataSource]="dataSource" matSort>

				<!-- ID Column -->
				<ng-container matColumnDef="id">
					<mat-header-cell *matHeaderCellDef mat-sort-header> ID </mat-header-cell>
					<mat-cell *matCellDef="let experiment"> {{experiment._id}} </mat-cell>
				</ng-container>

				<!-- Name Column -->
				<ng-container matColumnDef="name">
					<mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>
					<mat-cell *matCellDef="let experiment"> {{experiment.experimentName}} </mat-cell>
				</ng-container>

				<!-- Date Column -->
				<ng-container matColumnDef="date">
					<mat-header-cell *matHeaderCellDef mat-sort-header> Date </mat-header-cell>
					<mat-cell *matCellDef="let experiment"> {{experiment.experimentDate | date: 'dd MMMM yy | h:mm:ss z'}} </mat-cell>
				</ng-container>

				<mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
				<mat-row *matRowDef="let experiment; columns: displayedColumns;" (click)="onRowClicked()" class="table-row">
				</mat-row>
			</mat-table>

			<mat-paginator [pageSizeOptions]="[10, 25, 50, 100]"></mat-paginator>
		</div>
	</div>
</app-card>
